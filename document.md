## RPGAutoChess



施工中...



#### 1. 开发流程

- master：发布分支
- dev：主干分支
- feature\<版本\>/\<需求名\>：需求分支
- bugfix\<版本\>/\<BUG名\>：缺陷修复分支
- hotfix\<版本>/\<BUG名>：线上修复分支

master发布分支保持随时可编译出可用版本的状态，通过打tag的方式控制版本节点

dev主干分支处于合入所有已完成开发需求分支的状态，在特定时期合入发布分支

feature需求分支为实现某一特定需求的分支，在开发完毕、测试无误后合入主干

bugfix缺陷修复分支用于修复已合入主干的代码缺陷

hotfix线上修复分支用于修复已合入发布分支的代码缺陷（同时也需要在主干dev分支中修复这一问题，再开一bugfix分支，通过cherrypick提交代码后合入主干）

**关于提交信息**

代码提交需要说明该次改动是为了什么目的，如下

```shell
git commit -m "feature:完成了xxx功能..."
git commit -m "bugfix:修复了xxx问题..."
```



#### 2. 代码规范

##### 原则：

+ 代码简洁：可以炫技，但需要把炫技的代码封装在可读可测试的接口中
+ 设计清晰：不只是简单的实现需求，通过优雅的设计面向未来可能的变化（也不要过度设计）

##### 规范：

###### 字数

每一行字数限制：100 (设置编辑器竖线)

###### 命名 

（均需要具有自说明性）

类：驼峰命名法

方法：动词短语（首字母小写）+ 之后每个单词首字母大写

变量：首字母小写 + 之后每个单词首字母大写

常量：以k开头 + 每个单词首字母大写

   ...... 待补充：更具体情况（如interface如何命名）以及示例

###### 注释

在提交代码时，不允许出现单行注释某行代码的情况（特别针对某些debug性质的代码）；必须要用多行注释且说明为什么要注释（尽量避免）

提供API需要通过标准注释来说明接口用途、参数、返回值

###### 空格与括号

（调整IDE编辑器自动换行缩进等设置）

左括号不换行

注意空格位置

```c++
if () {
  
} else {
  
}
```

一元运算符不空格

二元运算符空格

```c++
int a = 1, b = 2;
-a;
a + b;
```

##### 更多

+ 单一方法：一个函数做一件事；注意限制函数长度
+ switch/if 考虑闭合情况
+ if黄金路径
+ for语句内尽量不要更改循环变量防止逻辑出错
+ 防御性编程，对参数进行检验ss